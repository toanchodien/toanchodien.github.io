{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/toanchodien/toanchodien.github.io/blob/master/1\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 1,
      "metadata": {
        "id": "Lo06KKdD9Ejt",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "f9ffefa9-8c4f-4fdd-f422-6439f1fb49dc"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Mounted at /content/drive\n"
          ]
        }
      ],
      "source": [
        "from google.colab import drive\n",
        "drive.mount('/content/drive')"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        ""
      ],
      "metadata": {
        "id": "EyvQBn8DT_EE"
      },
      "execution_count": 1,
      "outputs": []
    },
    {
      "cell_type": "code",
      "execution_count": 2,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "QzZk7j989IKb",
        "outputId": "93ed209f-8073-4296-968b-e7156463513b"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Cloning into 'YOLOX'...\n",
            "remote: Enumerating objects: 1359, done.\u001b[K\n",
            "remote: Total 1359 (delta 0), reused 0 (delta 0), pack-reused 1359\u001b[K\n",
            "Receiving objects: 100% (1359/1359), 5.93 MiB | 38.17 MiB/s, done.\n",
            "Resolving deltas: 100% (768/768), done.\n"
          ]
        }
      ],
      "source": [
        "#cloning the Yolo X Repo\n",
        "!git clone https://github.com/augmentedstartups/YOLOX.git"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 3,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "K0SDVC9S9Kx5",
        "outputId": "c366cbe3-4f8d-4265-dda1-bc95733ad0bb"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "/content/YOLOX\n",
            "Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n",
            "Requirement already satisfied: pip in /usr/local/lib/python3.7/dist-packages (21.1.3)\n",
            "Collecting pip\n",
            "  Downloading pip-22.1.1-py3-none-any.whl (2.1 MB)\n",
            "\u001b[K     |████████████████████████████████| 2.1 MB 16.4 MB/s \n",
            "\u001b[?25hInstalling collected packages: pip\n",
            "  Attempting uninstall: pip\n",
            "    Found existing installation: pip 21.1.3\n",
            "    Uninstalling pip-21.1.3:\n",
            "      Successfully uninstalled pip-21.1.3\n",
            "Successfully installed pip-22.1.1\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m58.3/58.3 kB\u001b[0m \u001b[31m6.9 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m108.1/108.1 kB\u001b[0m \u001b[31m14.2 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m14.5/14.5 MB\u001b[0m \u001b[31m58.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m4.5/4.5 MB\u001b[0m \u001b[31m83.1 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25h  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n",
            "\u001b[2K     \u001b[90m━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\u001b[0m \u001b[32m498.6/498.6 kB\u001b[0m \u001b[31m41.4 MB/s\u001b[0m eta \u001b[36m0:00:00\u001b[0m\n",
            "\u001b[?25h  Building wheel for onnx-simplifier (setup.py) ... \u001b[?25l\u001b[?25hdone\n",
            "\u001b[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\u001b[0m\u001b[33m\n",
            "\u001b[0m"
          ]
        }
      ],
      "source": [
        "# Installing requirementes.txt\n",
        "\n",
        "%cd YOLOX\n",
        "\n",
        "!pip3 install -U pip\n",
        "\n",
        "!pip3 install -qr requirements.txt"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 4,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "LfOnzccR9T_P",
        "outputId": "17bfdd7f-b85b-4003-f40f-c6ddcd08870b"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "/bin/bash: -c: line 0: unexpected EOF while looking for matching `''\n",
            "/bin/bash: -c: line 1: syntax error: unexpected end of file\n"
          ]
        }
      ],
      "source": [
        "#building pycocotools\n",
        "\n",
        "!pip3 install 'git+https://github.com/cocodataset//cocoapi.git#subdirectory=PythonAPI"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 5,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "N9vAHfPn9ZIi",
        "outputId": "ceae027f-0fb8-43fe-a8b7-b7c154d7e55b"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Using pip 22.1.1 from /usr/local/lib/python3.7/dist-packages/pip (python 3.7)\n",
            "Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n",
            "Obtaining file:///content/YOLOX\n",
            "  Running command python setup.py egg_info\n",
            "  No CUDA runtime is found, using CUDA_HOME='/usr/local/cuda'\n",
            "  running egg_info\n",
            "  creating /tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info\n",
            "  writing /tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info/PKG-INFO\n",
            "  writing dependency_links to /tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info/dependency_links.txt\n",
            "  writing top-level names to /tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info/top_level.txt\n",
            "  writing manifest file '/tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info/SOURCES.txt'\n",
            "  adding license file 'LICENSE'\n",
            "  writing manifest file '/tmp/pip-pip-egg-info-xm9bl2f3/yolox.egg-info/SOURCES.txt'\n",
            "  Preparing metadata (setup.py) ... \u001b[?25l\u001b[?25hdone\n",
            "Installing collected packages: yolox\n",
            "  Running setup.py develop for yolox\n",
            "    Running command python setup.py develop\n",
            "    No CUDA runtime is found, using CUDA_HOME='/usr/local/cuda'\n",
            "    running develop\n",
            "    running egg_info\n",
            "    creating yolox.egg-info\n",
            "    writing yolox.egg-info/PKG-INFO\n",
            "    writing dependency_links to yolox.egg-info/dependency_links.txt\n",
            "    writing top-level names to yolox.egg-info/top_level.txt\n",
            "    writing manifest file 'yolox.egg-info/SOURCES.txt'\n",
            "    adding license file 'LICENSE'\n",
            "    writing manifest file 'yolox.egg-info/SOURCES.txt'\n",
            "    running build_ext\n",
            "    building 'yolox._C' extension\n",
            "    creating /content/YOLOX/build\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc\n",
            "    creating /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/cocoeval\n",
            "    Emitting ninja build file /content/YOLOX/build/temp.linux-x86_64-3.7/build.ninja...\n",
            "    Compiling objects...\n",
            "    Allowing ninja to set a default number of workers... (overridable by setting the environment variable MAX_JOBS=N)\n",
            "    [1/2] c++ -MMD -MF /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/cocoeval/cocoeval.o.d -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/content/YOLOX/yolox/layers/csrc -I/usr/local/lib/python3.7/dist-packages/torch/include -I/usr/local/lib/python3.7/dist-packages/torch/include/torch/csrc/api/include -I/usr/local/lib/python3.7/dist-packages/torch/include/TH -I/usr/local/lib/python3.7/dist-packages/torch/include/THC -I/usr/include/python3.7m -c -c /content/YOLOX/yolox/layers/csrc/cocoeval/cocoeval.cpp -o /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/cocoeval/cocoeval.o -O3 -DTORCH_API_INCLUDE_EXTENSION_H '-DPYBIND11_COMPILER_TYPE=\"_gcc\"' '-DPYBIND11_STDLIB=\"_libstdcpp\"' '-DPYBIND11_BUILD_ABI=\"_cxxabi1011\"' -DTORCH_EXTENSION_NAME=_C -D_GLIBCXX_USE_CXX11_ABI=0 -std=c++14\n",
            "    [2/2] c++ -MMD -MF /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/vision.o.d -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -I/content/YOLOX/yolox/layers/csrc -I/usr/local/lib/python3.7/dist-packages/torch/include -I/usr/local/lib/python3.7/dist-packages/torch/include/torch/csrc/api/include -I/usr/local/lib/python3.7/dist-packages/torch/include/TH -I/usr/local/lib/python3.7/dist-packages/torch/include/THC -I/usr/include/python3.7m -c -c /content/YOLOX/yolox/layers/csrc/vision.cpp -o /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/vision.o -O3 -DTORCH_API_INCLUDE_EXTENSION_H '-DPYBIND11_COMPILER_TYPE=\"_gcc\"' '-DPYBIND11_STDLIB=\"_libstdcpp\"' '-DPYBIND11_BUILD_ABI=\"_cxxabi1011\"' -DTORCH_EXTENSION_NAME=_C -D_GLIBCXX_USE_CXX11_ABI=0 -std=c++14\n",
            "    creating build/lib.linux-x86_64-3.7\n",
            "    creating build/lib.linux-x86_64-3.7/yolox\n",
            "    x86_64-linux-gnu-g++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -g -fwrapv -O2 -Wl,-Bsymbolic-functions -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/vision.o /content/YOLOX/build/temp.linux-x86_64-3.7/content/YOLOX/yolox/layers/csrc/cocoeval/cocoeval.o -L/usr/local/lib/python3.7/dist-packages/torch/lib -lc10 -ltorch -ltorch_cpu -ltorch_python -o build/lib.linux-x86_64-3.7/yolox/_C.cpython-37m-x86_64-linux-gnu.so\n",
            "    copying build/lib.linux-x86_64-3.7/yolox/_C.cpython-37m-x86_64-linux-gnu.so -> yolox\n",
            "    Creating /usr/local/lib/python3.7/dist-packages/yolox.egg-link (link to .)\n",
            "    Adding yolox 0.1.0 to easy-install.pth file\n",
            "\n",
            "    Installed /content/YOLOX\n",
            "Successfully installed yolox-0.1.0\n",
            "\u001b[33mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\u001b[0m\u001b[33m\n",
            "\u001b[0m"
          ]
        }
      ],
      "source": [
        "# Installing and building  YOLO X\n",
        "\n",
        "!pip3 install -v -e ."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 6,
      "metadata": {
        "id": "Jm0h6lsk-CEI"
      },
      "outputs": [],
      "source": [
        "# Creating the wieghta folder\n",
        "import os\n",
        " \n",
        "if not os.path.exists(\"weights\"):\n",
        "  os.mkdir(\"weights\")\n",
        "  "
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "sumk3JetAbOe"
      },
      "source": [
        ""
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "%cd YOLOX\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_s.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_m.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_l.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_x.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_darket.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_nano.pth -P /content/YOLOX/weights\n",
        "!wget -nc https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_tiny.pth -P /content/YOLOX/weights\n"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "PDzza_dnQM7Y",
        "outputId": "eb2fc428-62ba-46fc-b8bf-5e20625a98e8"
      },
      "execution_count": 7,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "[Errno 2] No such file or directory: 'YOLOX'\n",
            "/content/YOLOX\n",
            "--2022-05-24 02:44:02--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_s.pth\n",
            "Resolving github.com (github.com)... 140.82.113.4\n",
            "Connecting to github.com (github.com)|140.82.113.4|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/42c4cb47-f94e-475b-a3a2-57f31f26fa5d?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024402Z&X-Amz-Expires=300&X-Amz-Signature=9fa80f5333a8681cbb286ba9b09508f331bd426c39c0e19196b9beb038bbaa98&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_s.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:02--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/42c4cb47-f94e-475b-a3a2-57f31f26fa5d?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024402Z&X-Amz-Expires=300&X-Amz-Signature=9fa80f5333a8681cbb286ba9b09508f331bd426c39c0e19196b9beb038bbaa98&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_s.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 72089125 (69M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_s.pth’\n",
            "\n",
            "yolox_s.pth         100%[===================>]  68.75M   136MB/s    in 0.5s    \n",
            "\n",
            "2022-05-24 02:44:02 (136 MB/s) - ‘/content/YOLOX/weights/yolox_s.pth’ saved [72089125/72089125]\n",
            "\n",
            "--2022-05-24 02:44:02--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_m.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/a0b0f1ca-0e3c-43e4-829d-d9177f6be5f7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024403Z&X-Amz-Expires=300&X-Amz-Signature=2db4c138f30c027de4215afd2005a351d01ef043f49fcd475cee972ca5f0e5d9&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_m.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:03--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/a0b0f1ca-0e3c-43e4-829d-d9177f6be5f7?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024403Z&X-Amz-Expires=300&X-Amz-Signature=2db4c138f30c027de4215afd2005a351d01ef043f49fcd475cee972ca5f0e5d9&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_m.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 203114461 (194M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_m.pth’\n",
            "\n",
            "yolox_m.pth         100%[===================>] 193.70M   120MB/s    in 1.6s    \n",
            "\n",
            "2022-05-24 02:44:05 (120 MB/s) - ‘/content/YOLOX/weights/yolox_m.pth’ saved [203114461/203114461]\n",
            "\n",
            "--2022-05-24 02:44:05--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_l.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/4e1d8aa7-93cc-494a-8a10-706db8bbc57b?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024405Z&X-Amz-Expires=300&X-Amz-Signature=56971018efe5f28d5f436b0aef969465f5940aa9ea39e47126512b9b55038994&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_l.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:05--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/4e1d8aa7-93cc-494a-8a10-706db8bbc57b?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024405Z&X-Amz-Expires=300&X-Amz-Signature=56971018efe5f28d5f436b0aef969465f5940aa9ea39e47126512b9b55038994&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_l.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 434357141 (414M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_l.pth’\n",
            "\n",
            "yolox_l.pth         100%[===================>] 414.23M   102MB/s    in 4.2s    \n",
            "\n",
            "2022-05-24 02:44:09 (99.5 MB/s) - ‘/content/YOLOX/weights/yolox_l.pth’ saved [434357141/434357141]\n",
            "\n",
            "--2022-05-24 02:44:10--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_x.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/41678999-3e97-4a8e-8a2a-f45da504a583?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024410Z&X-Amz-Expires=300&X-Amz-Signature=ca8b0915d4fbf757b096f36d81639b9c4b0715c5805b9ff99a8517067997936a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_x.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:10--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/41678999-3e97-4a8e-8a2a-f45da504a583?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024410Z&X-Amz-Expires=300&X-Amz-Signature=ca8b0915d4fbf757b096f36d81639b9c4b0715c5805b9ff99a8517067997936a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_x.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.111.133, 185.199.108.133, 185.199.109.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 793463373 (757M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_x.pth’\n",
            "\n",
            "yolox_x.pth          26%[====>               ] 202.83M   132MB/s    in 1.5s    \n",
            "\n",
            "2022-05-24 02:44:12 (132 MB/s) - Read error at byte 212680704/793463373 (Connection reset by peer). Retrying.\n",
            "\n",
            "--2022-05-24 02:44:13--  (try: 2)  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/41678999-3e97-4a8e-8a2a-f45da504a583?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024410Z&X-Amz-Expires=300&X-Amz-Signature=ca8b0915d4fbf757b096f36d81639b9c4b0715c5805b9ff99a8517067997936a&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_x.pth&response-content-type=application%2Foctet-stream\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.111.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 206 Partial Content\n",
            "Length: 793463373 (757M), 580782669 (554M) remaining [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_x.pth’\n",
            "\n",
            "yolox_x.pth         100%[+++++==============>] 756.71M   147MB/s    in 3.5s    \n",
            "\n",
            "2022-05-24 02:44:16 (158 MB/s) - ‘/content/YOLOX/weights/yolox_x.pth’ saved [793463373/793463373]\n",
            "\n",
            "--2022-05-24 02:44:16--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_darket.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 404 Not Found\n",
            "2022-05-24 02:44:17 ERROR 404: Not Found.\n",
            "\n",
            "--2022-05-24 02:44:17--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_nano.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/07b600c6-2a51-41d2-9a32-3424acf6c85d?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024417Z&X-Amz-Expires=300&X-Amz-Signature=4d432b357aff72e9aefff14b0448bbf5494bbfac6ac5b6a74dfe2a1ff332d669&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_nano.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:17--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/07b600c6-2a51-41d2-9a32-3424acf6c85d?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024417Z&X-Amz-Expires=300&X-Amz-Signature=4d432b357aff72e9aefff14b0448bbf5494bbfac6ac5b6a74dfe2a1ff332d669&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_nano.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 7694953 (7.3M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_nano.pth’\n",
            "\n",
            "yolox_nano.pth      100%[===================>]   7.34M  --.-KB/s    in 0.03s   \n",
            "\n",
            "2022-05-24 02:44:18 (224 MB/s) - ‘/content/YOLOX/weights/yolox_nano.pth’ saved [7694953/7694953]\n",
            "\n",
            "--2022-05-24 02:44:18--  https://github.com/Megvii-BaseDetection/YOLOX/releases/download/0.1.1rc0/yolox_tiny.pth\n",
            "Resolving github.com (github.com)... 140.82.121.3\n",
            "Connecting to github.com (github.com)|140.82.121.3|:443... connected.\n",
            "HTTP request sent, awaiting response... 302 Found\n",
            "Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/cbf58ed8-49c4-401f-9764-93f785c6eade?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024418Z&X-Amz-Expires=300&X-Amz-Signature=3679408a9707d57e38aabc7d1e70907e400f97785a65342d7eba3adc036422e9&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_tiny.pth&response-content-type=application%2Foctet-stream [following]\n",
            "--2022-05-24 02:44:18--  https://objects.githubusercontent.com/github-production-release-asset-2e65be/386811486/cbf58ed8-49c4-401f-9764-93f785c6eade?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20220524%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20220524T024418Z&X-Amz-Expires=300&X-Amz-Signature=3679408a9707d57e38aabc7d1e70907e400f97785a65342d7eba3adc036422e9&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=386811486&response-content-disposition=attachment%3B%20filename%3Dyolox_tiny.pth&response-content-type=application%2Foctet-stream\n",
            "Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...\n",
            "Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected.\n",
            "HTTP request sent, awaiting response... 200 OK\n",
            "Length: 40755013 (39M) [application/octet-stream]\n",
            "Saving to: ‘/content/YOLOX/weights/yolox_tiny.pth’\n",
            "\n",
            "yolox_tiny.pth      100%[===================>]  38.87M   158MB/s    in 0.2s    \n",
            "\n",
            "2022-05-24 02:44:18 (158 MB/s) - ‘/content/YOLOX/weights/yolox_tiny.pth’ saved [40755013/40755013]\n",
            "\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 8,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 181
        },
        "id": "bzKTlAp0AIJP",
        "outputId": "08cbfd0f-f078-4741-b608-9632bdee1ec1"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "Downloading...\n",
            "From: https://tapchitoaan.vn/uploads/2020/071111.jpg\n",
            "To: /content/YOLOX/071111.jpg\n",
            "19.6kB [00:00, 34.8MB/s]\n",
            "Downloading...\n",
            "From: https://drive.google.com/u/0/uc?id=1xI_LwLLiXJQVmDBw-l7jHqubdxSnKLPn&export=downloadvideo.mkv\n",
            "To: /content/YOLOX/video.mkv\n",
            "100%|██████████| 8.72M/8.72M [00:00<00:00, 56.9MB/s]\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "'video.mkv'"
            ],
            "application/vnd.google.colaboratory.intrinsic+json": {
              "type": "string"
            }
          },
          "metadata": {},
          "execution_count": 8
        }
      ],
      "source": [
        "#Download sample video and image\n",
        "import gdown\n",
        "\n",
        "gdown.download(\n",
        "    'https://tapchitoaan.vn/uploads/2020/07'\n",
        "    '1111.jpg',\n",
        "    quiet = False\n",
        ")\n",
        "\n",
        "gdown.download(\n",
        "    'https://drive.google.com/u/0/uc?id=1xI_LwLLiXJQVmDBw-l7jHqubdxSnKLPn&export=download'\n",
        "    'video.mkv',\n",
        "    quiet = False\n",
        ")"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "I0EK6nhyqz-_"
      },
      "source": [
        ""
      ]
    },
    {
      "cell_type": "code",
      "source": [
        ""
      ],
      "metadata": {
        "id": "Lm9UJGxBR8CJ"
      },
      "execution_count": 8,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [
        "!python tools/demo.py image -n yolox-s -c /content/YOLOX/weights/yolox_s.pth --path /content/drive/MyDrive/YOLOX/assets/giathong.jpg --conf 0.25 --nms 0.45 --tsize 640 --save_result --device [cpu/gpu]"
      ],
      "metadata": {
        "id": "2B0HtWrFPUqV",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "fdb44703-75cd-4d11-97e5-03c2ee898d81"
      },
      "execution_count": 9,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\u001b[32m2022-05-24 02:44:25.841\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m255\u001b[0m - \u001b[1mArgs: Namespace(camid=0, ckpt='/content/YOLOX/weights/yolox_s.pth', conf=0.25, demo='image', device='[cpu/gpu]', exp_file=None, experiment_name='yolox_s', fp16=False, fuse=False, legacy=False, name='yolox-s', nms=0.45, path='/content/drive/MyDrive/YOLOX/assets/giathong.jpg', save_result=True, trt=False, tsize=640)\u001b[0m\n",
            "/usr/local/lib/python3.7/dist-packages/torch/functional.py:568: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  ../aten/src/ATen/native/TensorShape.cpp:2228.)\n",
            "  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\n",
            "\u001b[32m2022-05-24 02:44:26.222\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m265\u001b[0m - \u001b[1mModel Summary: Params: 8.97M, Gflops: 26.81\u001b[0m\n",
            "\u001b[32m2022-05-24 02:44:26.224\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m278\u001b[0m - \u001b[1mloading checkpoint\u001b[0m\n",
            "\u001b[32m2022-05-24 02:44:26.356\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m282\u001b[0m - \u001b[1mloaded checkpoint done.\u001b[0m\n",
            "Traceback (most recent call last):\n",
            "  File \"tools/demo.py\", line 316, in <module>\n",
            "    main(exp, args)\n",
            "  File \"tools/demo.py\", line 307, in main\n",
            "    image_demo(predictor, vis_folder, args.path, current_time, args.save_result)\n",
            "  File \"tools/demo.py\", line 194, in image_demo\n",
            "    outputs, img_info = predictor.inference(image_name)\n",
            "  File \"tools/demo.py\", line 140, in inference\n",
            "    height, width = img.shape[:2]\n",
            "AttributeError: 'NoneType' object has no attribute 'shape'\n"
          ]
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        ""
      ],
      "metadata": {
        "id": "LVj42hr2P-p-"
      }
    },
    {
      "cell_type": "code",
      "source": [
        "!python tools/demo.py video -n yolox-s -c /content/YOLOX/weights/yolox_s.pth --path /content/drive/MyDrive/YOLOX/assets/video1.avi --conf 0.25 --nms 0.45 --tsize 640 --save_result --device [cpu/gpu]"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "pUIxAVSAPuP6",
        "outputId": "822b6679-a769-4069-bfd1-830d9b1d071d"
      },
      "execution_count": 10,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "\u001b[32m2022-05-24 02:44:27.624\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m255\u001b[0m - \u001b[1mArgs: Namespace(camid=0, ckpt='/content/YOLOX/weights/yolox_s.pth', conf=0.25, demo='video', device='[cpu/gpu]', exp_file=None, experiment_name='yolox_s', fp16=False, fuse=False, legacy=False, name='yolox-s', nms=0.45, path='/content/drive/MyDrive/YOLOX/assets/video1.avi', save_result=True, trt=False, tsize=640)\u001b[0m\n",
            "/usr/local/lib/python3.7/dist-packages/torch/functional.py:568: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  ../aten/src/ATen/native/TensorShape.cpp:2228.)\n",
            "  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\n",
            "\u001b[32m2022-05-24 02:44:27.872\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m265\u001b[0m - \u001b[1mModel Summary: Params: 8.97M, Gflops: 26.81\u001b[0m\n",
            "\u001b[32m2022-05-24 02:44:27.874\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m278\u001b[0m - \u001b[1mloading checkpoint\u001b[0m\n",
            "\u001b[32m2022-05-24 02:44:28.013\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mmain\u001b[0m:\u001b[36m282\u001b[0m - \u001b[1mloaded checkpoint done.\u001b[0m\n",
            "\u001b[32m2022-05-24 02:44:28.050\u001b[0m | \u001b[1mINFO    \u001b[0m | \u001b[36m__main__\u001b[0m:\u001b[36mimageflow_demo\u001b[0m:\u001b[36m222\u001b[0m - \u001b[1mvideo save_path is ./YOLOX_outputs/yolox_s/vis_res/2022_05_24_02_44_28/video1.avi\u001b[0m\n"
          ]
        }
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        ""
      ],
      "metadata": {
        "id": "ztKhvXIRP-LV"
      }
    }
  ],
  "metadata": {
    "colab": {
      "collapsed_sections": [],
      "name": "Copy of Welcome To Colaboratory",
      "provenance": [],
      "include_colab_link": true
    },
    "kernelspec": {
      "display_name": "Python 3",
      "name": "python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}